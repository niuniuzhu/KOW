syntax = "proto3";
package Protos;

import "Global.proto";

//玩家信息
message BS2GC_PlayerInfo {
	uint64 gcNID = 1;//玩家登陆id
	string name = 2;//玩家名字
	int32 actorID = 3;//角色id
	map<int32, float> attrs = 4;//属性
}

//登录结果
message BS2GC_LoginRet {
	MsgOpts opts = 1;
	Global.ECommon result = 2;
	int32 rndSeed = 3;//随机种子
	int32 frameRate = 4;//逻辑帧速
	int32 keyframeStep = 5;//关键帧步长
	int32 battleTime = 6;//战场限时
	int32 mapID = 7;//地图id
	repeated BS2GC_PlayerInfo playerInfo = 8;//玩家信息
}

//战场开始
message BS2GC_BattleStart {
	MsgOpts opts = 1;
	uint32 id = 2;//战场id
}

//战场结束
message BS2GC_BattleEnd {
	MsgOpts opts = 1;
	uint32 id = 2;//战场id
}

//快照
message Snapshot {
	int32 currFrame = 1;
	repeated BS2GC_PlayerInfo playerInfos = 2;
}

//回应战场快照
message BS2GC_RequestSnapshotRet {
	enum EResult {
		Success = 0;
		InvalidUser = 1;
		InvalidBattle = 2;
	}
	MsgOpts opts = 1;
	EResult result = 2;
	Snapshot snapshot = 3;
}